<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://cuihantao.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://cuihantao.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2025-01-01T22:21:18+00:00</updated><id>https://cuihantao.github.io/feed.xml</id><title type="html">blank</title><subtitle>Hantao Cui&apos;s website. </subtitle><entry><title type="html">a post with image galleries</title><link href="https://cuihantao.github.io/blog/2024/photo-gallery/" rel="alternate" type="text/html" title="a post with image galleries"/><published>2024-12-04T01:59:00+00:00</published><updated>2024-12-04T01:59:00+00:00</updated><id>https://cuihantao.github.io/blog/2024/photo-gallery</id><content type="html" xml:base="https://cuihantao.github.io/blog/2024/photo-gallery/"><![CDATA[<p>The images in this post are all zoomable, arranged into different mini-galleries using different libraries.</p> <h2 id="lightbox2"><a href="https://lokeshdhakar.com/projects/lightbox2/">Lightbox2</a></h2> <p><a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p> <hr/> <h2 id="photoswipe"><a href="https://photoswipe.com/">PhotoSwipe</a></h2> <div class="pswp-gallery pswp-gallery--single-column" id="gallery--getting-started"> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-pswp-width="1669" data-pswp-height="2500" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg" alt=""/> </a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-2500.jpg" data-pswp-width="1875" data-pswp-height="2500" data-cropped="true" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-200.jpg" alt=""/> </a> <a href="https://unsplash.com" data-pswp-src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1666" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg" alt=""/> </a> <div> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1667" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg" alt=""/> </a> </div> </div> <hr/> <h2 id="spotlight-js"><a href="https://nextapps-de.github.io/spotlight/">Spotlight JS</a></h2> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/> </a> </div> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg"/> </a> </div> <hr/> <h2 id="venobox"><a href="https://veno.es/venobox/">Venobox</a></h2> <p><a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="images"/><summary type="html"><![CDATA[this is what included image galleries could look like]]></summary></entry><entry><title type="html">a post with tabs</title><link href="https://cuihantao.github.io/blog/2024/tabs/" rel="alternate" type="text/html" title="a post with tabs"/><published>2024-05-01T00:32:13+00:00</published><updated>2024-05-01T00:32:13+00:00</updated><id>https://cuihantao.github.io/blog/2024/tabs</id><content type="html" xml:base="https://cuihantao.github.io/blog/2024/tabs/"><![CDATA[<p>This is how a post with <a href="https://github.com/Ovski4/jekyll-tabs">tabs</a> looks like. Note that the tabs could be used for different purposes, not only for code.</p> <h2 id="first-tabs">First tabs</h2> <p>To add tabs, use the following syntax:</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">tabs</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-1</span><span class="w"> </span><span class="cp">%}</span>

Content 1

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-2</span><span class="w"> </span><span class="cp">%}</span>

Content 2

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtabs</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>With this you can generate visualizations like:</p> <ul id="log" class="tab" data-tab="d75c343c-9083-4e74-840a-04726612765f" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="d75c343c-9083-4e74-840a-04726612765f" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</code></pre></div></div> </li> </ul> <h2 id="another-example">Another example</h2> <ul id="data-struct" class="tab" data-tab="7044ab3c-f475-4353-add0-3fb99fe82ab3" data-name="data-struct"> <li class="active" id="data-struct-yaml"> <a href="#">yaml </a> </li> <li id="data-struct-json"> <a href="#">json </a> </li> </ul> <ul class="tab-content" id="7044ab3c-f475-4353-add0-3fb99fe82ab3" data-name="data-struct"> <li class="active"> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">hello</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">whatsup"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">hi"</span>
</code></pre></div></div> </li> <li> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"whatsup"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hi"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </li> </ul> <h2 id="tabs-for-something-else">Tabs for something else</h2> <ul id="something-else" class="tab" data-tab="c173d81c-5167-4974-a115-dd3749e80f7c" data-name="something-else"> <li class="active" id="something-else-text"> <a href="#">text </a> </li> <li id="something-else-quote"> <a href="#">quote </a> </li> <li id="something-else-list"> <a href="#">list </a> </li> </ul> <ul class="tab-content" id="c173d81c-5167-4974-a115-dd3749e80f7c" data-name="something-else"> <li class="active"> <p>Regular text</p> </li> <li> <blockquote> <p>A quote</p> </blockquote> </li> <li> <p>Hipster list</p> <ul> <li>brunch</li> <li>fixie</li> <li>raybans</li> <li>messenger bag</li> </ul> </li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included tabs in a post could look like]]></summary></entry><entry><title type="html">a post with typograms</title><link href="https://cuihantao.github.io/blog/2024/typograms/" rel="alternate" type="text/html" title="a post with typograms"/><published>2024-04-29T23:36:10+00:00</published><updated>2024-04-29T23:36:10+00:00</updated><id>https://cuihantao.github.io/blog/2024/typograms</id><content type="html" xml:base="https://cuihantao.github.io/blog/2024/typograms/"><![CDATA[<p>This is an example post with some <a href="https://github.com/google/typograms/">typograms</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">+----+
|    |---&gt; My first diagram!
+----+</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-typograms">+----+
|    |---&gt; My first diagram!
+----+
</code></pre> <p>Another example:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.</span>
<span class="p">```</span>
</code></pre></div></div> <p>which generates:</p> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <p>For more examples, check out the <a href="https://google.github.io/typograms/#examples">typograms documentation</a>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="diagrams"/><summary type="html"><![CDATA[this is what included typograms code could look like]]></summary></entry><entry><title type="html">a post that can be cited</title><link href="https://cuihantao.github.io/blog/2024/post-citation/" rel="alternate" type="text/html" title="a post that can be cited"/><published>2024-04-28T15:06:00+00:00</published><updated>2024-04-28T15:06:00+00:00</updated><id>https://cuihantao.github.io/blog/2024/post-citation</id><content type="html" xml:base="https://cuihantao.github.io/blog/2024/post-citation/"><![CDATA[<p>This is an example post that can be cited. The content of the post ends here, while the citation information is automatically provided below. The only thing needed is for you to set the <code class="language-plaintext highlighter-rouge">citation</code> key in the front matter to <code class="language-plaintext highlighter-rouge">true</code>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="citation"/><summary type="html"><![CDATA[this is what a post that can be cited looks like]]></summary></entry><entry><title type="html">a post with pseudo code</title><link href="https://cuihantao.github.io/blog/2024/pseudocode/" rel="alternate" type="text/html" title="a post with pseudo code"/><published>2024-04-15T00:01:00+00:00</published><updated>2024-04-15T00:01:00+00:00</updated><id>https://cuihantao.github.io/blog/2024/pseudocode</id><content type="html" xml:base="https://cuihantao.github.io/blog/2024/pseudocode/"><![CDATA[<p>This is an example post with some pseudo code rendered by <a href="https://github.com/SaswatPadhi/pseudocode.js">pseudocode</a>. The example presented here is the same as the one in the <a href="https://saswat.padhi.me/pseudocode.js/">pseudocode.js</a> documentation, with only one simple but important change: everytime you would use <code class="language-plaintext highlighter-rouge">$</code>, you should use <code class="language-plaintext highlighter-rouge">$$</code> instead. Also, note that the <code class="language-plaintext highlighter-rouge">pseudocode</code> key in the front matter is set to <code class="language-plaintext highlighter-rouge">true</code> to enable the rendering of pseudo code. As an example, using this code:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">pseudocode
</span><span class="sb">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Generates:</p> <pre><code class="language-pseudocode">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included pseudo code could look like]]></summary></entry><entry><title type="html">Teaching with Microsoft Teams</title><link href="https://cuihantao.github.io/blog/2021/teams-teaching/" rel="alternate" type="text/html" title="Teaching with Microsoft Teams"/><published>2021-08-25T15:40:16+00:00</published><updated>2021-08-25T15:40:16+00:00</updated><id>https://cuihantao.github.io/blog/2021/teams-teaching</id><content type="html" xml:base="https://cuihantao.github.io/blog/2021/teams-teaching/"><![CDATA[<p>This article demonstrates a streamlined workflow for lecturing, handwriting, recording, and uploading. You can save time setting up online lectures, uploading videos, and sending out links.</p> <p>Microsoft Teams is chosen because of its tight integration with OneDrive.</p> <p>This article assumes the reader is unfamiliar with Teams or OneDrive and thus come with some details.</p> <h2 id="tldr">TL;DR</h2> <p>I use a Teams meeting room for teaching using a Surface Pro. Signing into the same room on the classroom PC allows projecting slides and handwriting. Teams automatically uploads the video recordings to OneDrive, where you can create a dedicated, shared folder and post it on Canvas.</p> <h2 id="setting-up-microsoft-teams-meetings">Setting up Microsoft Teams meetings</h2> <p>First, let’s set up a recurring Teams meeting and <em>invite all students</em>.</p> <p>Open Microsoft Teams and log in with your instution account. On the left panel, click on “Calendar” and click on “New meeting” near the top right to schedule a new meeting. The interface looks like below.</p> <p><img src="/assets/img/2021-08-23-teams-teaching/teams-new-meeting.png" width="800"/></p> <p>The steps are:</p> <ul> <li>Fill in the title, date and time for the first coming meeting.</li> <li>Add all students to the required attendee field using their instution email address.</li> <li>Set the meeting as recurring to end on the last day of the semester.</li> </ul> <p>Save the meeting to continue.</p> <h2 id="setting-up-a-shared-folder-for-recordings">Setting up a shared folder for recordings</h2> <p>Next, we will ask Teams to create a folder for recording. Back to the “Calendar” screen of Teams and locate the newly added meeting.</p> <ul> <li>Click on it and click on “Join”. A meeting window will pop up.</li> <li>Click on the “…” to the left of the camera icon and click on “Start Recording”.</li> <li>After a few seconds, click on the arrow on the left of the hang up button and select “End meeting”.</li> </ul> <p>Back to Teams and click on “Chat”, a new meeting with the meeting name will show up. You can pin it from the right-click menu.</p> <p>Access your <a href="https://www.microsoft.com/en-us/microsoft-365?ms.url=officecom&amp;shorturl=onedrive&amp;rtc=1">Microsoft OneDrive Webapp</a> with the same instution account. A folder named <em>Recordings</em> will appear with the just-recorded video. Feel free to remove this test video. Next:</p> <ul> <li>Create a folder in the “Recording” folder (or elsewhere you prefer in this OneDrive). My folder is called “ECEN 5113 Fall 2021”.</li> <li>Right click on the new folder and select <em>Share</em>.</li> <li>In the new window, click on <em>People you specify can view &gt;</em> and change it to <em>People in [Your organization] with the link</em>.</li> <li>Click on <em>Apply</em> and select <em>Copy link</em> (see screenshot below). A unique link will be created for sharing on Canvas.</li> </ul> <p><img src="/assets/img/2021-08-23-teams-teaching/onedrive-share.png" width="800"/></p> <h2 id="sharing-the-link-on-canvas">Sharing the link on Canvas</h2> <p>Now, let’s put it on Canvas.</p> <ul> <li>Created a module called <em>Streaming and Recording</em> and pinned it to the top.</li> <li>Click on the “+” sign on the right of the module title bar to add an <em>External URL</em>.</li> <li>Fill in a title (<em>Lecture Recording</em>, for example) and paste the copied sharing link.</li> <li>If you want to live stream lectures, add another <em>External URL</em> and provide the meeting link, which can be found in the Teams Calendar (see the screenshot below).</li> <li>Next, publish the module item when ready. Use the <em>Student View</em> to double check.</li> </ul> <p>At the beginning of the semester, I sent out an email informing students that lecture recordings will be available at the same link on Canvas, following lectures.</p> <p><img src="/assets/img/2021-08-23-teams-teaching/teams-meeting-link.png" width="800"/></p> <p>In addition, I created a folder for slides with ink notes and share it with all students. The final Canvas module looks like below:</p> <p><img src="/assets/img/2021-08-23-teams-teaching/canvas-link.png" width="800"/></p> <h2 id="classroom-workflow">Classroom workflow</h2> <p>Since my classroom already has a PC connected to the projector, I typically bring a stylus-enabled device for showing slides and writing notes. The PowerPoint slides have blank pages inserted wherever I feel like writing.</p> <p>My typical workflow is as follows:</p> <ul> <li>Log in my account on the classroom PC, open up Teams and join the meeting without connecting to audio.</li> <li>Start Teams on my Surface Pro. Connect to the same meeting with audio and video enabled.</li> <li>Start screen sharing.</li> </ul> <p>When the class starts, <strong>remember to start recording</strong>. When finished, end the meeting and log out of the classroom PC.</p> <h2 id="after-class">After class</h2> <p>Above are the one-time setup steps. The after-class steps are extremely simple:</p> <ol> <li>Drag the new video recording in the OneDrive <em>Recordings</em> folder to the shared folder.</li> <li>Save the slides with ink notes and drag it to the other OneDrive shared folder.</li> </ol> <h2 id="final-notes">Final Notes</h2> <p>It is important to add all students to the required attendees. This allows the video recording to be automatically shared to them. If a student cannot see a particular recording, it indicates s/he was not an attendee when it was recorded. In such case, the video file needs to be shared separately.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[A workflow that automates lecturing, handwriting, recording, and uploading.]]></summary></entry><entry><title type="html">Tutorial - Running andes in a Docker container</title><link href="https://cuihantao.github.io/blog/2020/andes-docker/" rel="alternate" type="text/html" title="Tutorial - Running andes in a Docker container"/><published>2020-03-25T16:40:16+00:00</published><updated>2020-03-25T16:40:16+00:00</updated><id>https://cuihantao.github.io/blog/2020/andes-docker</id><content type="html" xml:base="https://cuihantao.github.io/blog/2020/andes-docker/"><![CDATA[<h2 id="introduction">Introduction</h2> <p>Docker container saves the efforts for setting up Python and installing dependent packages. A Docker container of andes is available if you prefer to use it in a container without installation.</p> <p>There are excellent tutorial on the internet for getting started with Docker. For example, checkout the Docker installation guide at <a href="https://docs.docker.com/install/">https://docs.docker.com/install/</a>.</p> <p>Please continue reading after installing Docker.</p> <h2 id="getting-the-docker-image">Getting the Docker Image</h2> <p>To pull the Docker image from DockerHub, run</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker pull cuihantao/andes:latest
</code></pre></div></div> <h2 id="mounting-folders">Mounting Folders</h2> <p>When you run andes inside a docker, it is executed inside a container. Andes in the container only has access to files within the container.</p> <p>To run andes for a file in the local file system, one needs to mount the folder containing the file to the container. Mounting is done with <code class="language-plaintext highlighter-rouge">-v</code> or <code class="language-plaintext highlighter-rouge">--volume</code>, followed by the source directory and destination directory followed by colon. The destination directory must be <code class="language-plaintext highlighter-rouge">/andes</code> for andes containers.</p> <p>For the source folder, It is recommended to create a folder specifically for andes test cases. For example, my folder is at <code class="language-plaintext highlighter-rouge">/Users/hcui7/notebooks</code> (this location is specific to your system and user name).</p> <p>Next, copy andes test cases into the folder. In the example, I’m using <code class="language-plaintext highlighter-rouge">kundur_full.xlsx</code>.</p> <h2 id="running-andes">Running ANDES</h2> <p>To run andes using docker, run</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-v</span> /Users/hcui7/notebooks:/andes cuihantao/andes run kundur_full.xlsx
</code></pre></div></div> <p>where <code class="language-plaintext highlighter-rouge">-v /Users/hcui7/notebooks:/andes</code> does the folder mounting, <code class="language-plaintext highlighter-rouge">cuihantao/andes</code> is the image name, and <code class="language-plaintext highlighter-rouge">run kundur_full.xlsx</code> is the command and argument passed to <code class="language-plaintext highlighter-rouge">andes</code> within the container.</p> <p>As is seen in the example, commands and arguments are passed to the container in the same way as to a local andes. For example, to enable verbose logging, run</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>docker run <span class="nt">-v</span> /Users/hcui7/notebooks:/andes cuihantao/andes <span class="nt">-v</span> 10 run kundur_full.xlsx
</code></pre></div></div> <p>The output files will be written to the source folder in your local machine. In my example, outputs are saved to <code class="language-plaintext highlighter-rouge">/Users/hcui7/notebooks</code>.</p> <h2 id="prepare-and-config">Prepare and Config</h2> <p>The latest Andes docker image contains pre-generated numerical calls stored in <code class="language-plaintext highlighter-rouge">/home/cui/.andes/calls.pkl</code>. One does not need to wait for code generation.</p> <p>To use a custom Config file, place the <code class="language-plaintext highlighter-rouge">andes.rc</code> in the folder that you are mounting. To check which config file is being used, turn on debugging messages with <code class="language-plaintext highlighter-rouge">andes -v 10</code>.</p> <h2 id="make-an-alias---the-easiest-way">Make an alias - the easiest way</h2> <p>One might want to use a shorter command to run Andes from docker. The solution in Bash (or zsh, or others) is to create an alias command.</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">alias </span><span class="nv">andesd</span><span class="o">=</span><span class="s1">'docker run -v `pwd`:/andes cuihantao/andes:latest'</span>
</code></pre></div></div> <p>Run the above command to create an alias called <code class="language-plaintext highlighter-rouge">andesd</code> that automatically mounts the current folder. One can add this command to the shell profile (<code class="language-plaintext highlighter-rouge">~/.bashrc</code> or others) to create the alias automatically upon login.</p> <p>Once completed, using Andes from docker is as simple as that from the host - simply replace <code class="language-plaintext highlighter-rouge">andes</code> with <code class="language-plaintext highlighter-rouge">andesd</code>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>andesd run kundur_full.xlsx
</code></pre></div></div> <p>where <code class="language-plaintext highlighter-rouge">kundur_full.xlsx</code> should exist in the current host folder. Note that Andes will search for the <code class="language-plaintext highlighter-rouge">andes.rc</code> config file in the sequence of 1) current folder, and 2) the default one in the container at <code class="language-plaintext highlighter-rouge">/home/cui/.andes/andes.rc</code>.</p>]]></content><author><name></name></author><summary type="html"><![CDATA[Docker lets you run andes without installation. Here's a few notes on folder mounting.]]></summary></entry></feed>